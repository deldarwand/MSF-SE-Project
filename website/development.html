<!DOCTYPE HTML>
<!--
	Arcana by HTML5 UP
	html5up.net | @n33co
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Development</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<!--[if lte IE 8]><script src="assets/js/ie/html5shiv.js"></script><![endif]-->
		<link rel="stylesheet" href="assets/css/main.css" />
		<!--[if lte IE 8]><link rel="stylesheet" href="assets/css/ie8.css" /><![endif]-->
		<!--[if lte IE 9]><link rel="stylesheet" href="assets/css/ie9.css" /><![endif]-->
	</head>
	<body>
		<div id="page-wrapper">
			<!-- Header -->
				<div id="header">
					<!-- Nav -->
						<nav id="nav">
							<ul>
								<li><a href="index.html">Home</a>
									<ul>
										<li><a href="index.html">Main Features</a></li>
										<li><a href="index.html">Our Clients</a></li>
									</ul>
								</li>
								<li><a href="about.html">Our Mission</a>
									<ul>
										<li><a href="about.html">Our Mission</a></li>
										<li><a href="about.html">Requirements</a></li>
									</ul>
								</li>
								<li class="current"><a href="development.html">Development</a>
									<ul>
										<li><a href="development.html">System Implementation</a></li>
										<li><a href="development.html">Architecture</a></li>
										<li><a href="development.html">Design Patterns</a></li>
										<!-- <li><a href="development.html">User Interface</a></li> -->
									</ul>
								</li>
								<li><a href="testing.html">Testing</a>
									<ul>
										<li><a href="testing.html">System Prototypes</a></li>
										<li><a href="testing.html">UI Testing and Trials</a></li>
										<li><a href="testing.html">Materials and References</a></li>
										<li><a href="testing.html">Glossary</a></li>
									</ul>
								</li>
								<li><a href="progress.html">Project Management</a>
									<ul>
										<li><a href="progress.html">Work Packages</a></li>
										<li><a href="progress.html">Development Plan</a></li>
										<li><a href="progress.html">Project Reports</a></li>
										<li><a href="progress.html">Meetings</a></li>
									</ul>
								</li>
								<li><a href="community.html">Community</a>
									<ul>
										<li><a href="community.html">Future Opportunities</a></li>
										<li><a href="community.html">Collaboration</a></li>
										<li><a href="community.html">Forum and SDK</a></li>
									</ul>
								</li>
							</ul>
						</nav>
				</div>

			<!-- Banner -->
				<section id="banner">
					<img src="images/MediDroid_Logo.png" alt="" id="bannerLogo"/>
					<header>
						<h2>Google meets Medecins Sans Frontieres: <em> An augmented reality experience for data collection on the field.</em></h2>
					</header>
				</section>

			<!-- System Implementation -->
				<section class="wrapper style1">
					<div class="container">
						<header class="major">
							<h2>System Implementation</h2>
						</header>

						<img src="images/system_diagram.png" class="centerImage" width="800px">

						<h2>Java</h2>
						<p>Our system is developed in Java because it is the native programming language for Android, our primary Operating System. It includes strong libraries relating to OpenGL, the Open Graphics Library used for the design of the user interface.</p>

						<h2>Hardware</h2>

						<div class="row box post">
							<div class="box post">
								<a href="#" class="image left"><img src="images/drone.png" alt=""/></a>
								<div class="inner">
									<h3>Drone</h3>
									</p>The DJI Phantom 3 is the drone we are using for our project. The motivation for this choice was its size: while still being easy to carry, it is robust and large enough to attach the sensors, gimbal, camera, and server system.
									We initially intended to build our own drone, as the DJI Phantom is not open source, to be able to make use of the drone’s existing data processor and communication devices for the sensors; however the Phantom turned out to be suitable for our needs and provided all the features we required.<p>
								</div>
							</div>
						</div>

						<h3>Sensors</h3>
    					<p>For data gathering in the drone’s surroundings whilst in flight, we have a temperature and a humidity sensor (Arduino Compatible Digital Temperature Humidity Sensor Module). To be able to stream the data from the drone to the ground, the drone and the back-end (portable computer) are linked with a Jeelink (v3c) and Jeenode USB system. This telemetry installation sends sensor data to the server, which is transfered to the phone via bluetooth.</p>

    					<h3>Camera and Gimbal</h3>

    					<p>For capturing video we are making use of a ____ camera and _____ as a video transmitter and receiver.
    					</p>
    					<img src="images/gimbal_gif/gimbal_gif.gif"><br></br>

    					<h2>Connectivity</h2>
    					<p>As we needed to connect three devices together, connectivity was a key part of the project. After revising the connections between the drone, laptop and cardboard device, we decided the best way we can connect the devices will be through a device called a telemetry which uses high range radio waves to transmit the data from the drone to a laptop and then using bluetooth to transmit the data from the laptop to the cardboard device. These decisions came through as the Wi-Fi range was too short to connect the drone and laptop and Android does not support ad-hoc Wi-Fi networks.</p>

    					<h3>Telemetry</h3>

    					<h3>Bluetooth</h3>

    					
					</div>
				</section>

				<section class="wrapper style1">
					<div class="container">
						<h2>User Interface Implementation</h2>
					    <p>Having received both Google’s specification and the requirements of MSF, we concluded that we would need to have a User Interface (UI) which is easy to use with the Google Cardboard and makes use of its potential 3D virtual reality creation, whilst, at the same time, is able to display video content.</p>

					    <div class="row box post">
							<div class="box post">
								<a href="#" class="image left"><img src="images/googlecardboard.jpg" alt="" /></a>
								<div class="inner">
									<h3>Google Cardboard</h3>
									<p>The Google Cardboard is a practical, hand-held device that creates an augmented reality environment for the user. Because of it’s compact size and light weight, the Cardboard is a better alternative to a laptop or a tablet as it allows the medics to set up faster with less equipment.</p>
								</div>
							</div>
						</div>
					
						<h3>Map</h3>
						<p>A map was implemented with OSM-droid, which is an Android library for rendering OpenStreetMap (OSM) style map views. The reason for using this instead of the traditional Android map view is that our client uses an OSM formatted database. 
						The map renders the current location of the drone by providing GPS coordinates. The map is designed to recenter on the drone at a 10 second interval, and at each interval a new marker is rendered. This is done so that throughout the flight a path will be traced on the map, and after the operation the users have this information and can reflect back on it if they need.
						There are also markers rendering points of interest from the database, it is displaying all the landmarks located within a 3 kilometer radius of the drone. With the Cardboard, the user can click on a marker to see its tag and description.</p>

						<img src="images/UI_annotated.png" width="500px" class="centerImage"/><br></br>

						<h3>Landmark Waypoints</h3>
						<p>The video markers in the application were implemented by firstly creating an OBJ file parser which allows for the loading of 3D model which have been created in external applications such as Blender or Maya. By creating this parser we can easily load any new model to other parts of the system. Once the model for the marker is loaded its position is calculated based on the GPS coordinates of both the drone and the landmark and then displayed in the Cardboard allowing the user to see where the landmark is. The last aspect of developing the landmark feature is to light the arrows so that it is easier for the user to see where they are pointing at. This was done using simple dot product lighting.</p>

					    <h3>Graphs</h3>
					    <p>The software we used for representing graphs is OpenGL ES. Using the data collected from the sensors, the coordinates are plotted on a 2D graph that can be extended to a 3D model. After research into HTML and JavaScript rendering in an OpenGL ES environment, we concluded that creating the graphs with OpenGL ES itself was the most effective method. Components that are included are a constant graph update, so as new data is incoming the new points are represented on the graph.</p>

					</div>
				</section>

				<!-- System Architecture -->
				<section class="wrapper style2">
					<div class="container">
						<header class="major">
							<h2>System Architecture</h2>
						</header>
						<p>The Android Cardboard Application Architecture</p>
						<img src="images/architecture_diagram.png" width="100%">
					</div>
				</section>

				<section class="wrapper style1">
					<div class="container">
						<header class="major">
							<h2>Design Patterns</h2>
						</header>

						<div class="row">
							<section class="6u 12u(narrower)">
								<div class="box post">
									<a href="images/singleton-pattern.png" class="image left"><img src="images/singleton-pattern.png" alt="" /></a>
									<div class="inner">
										<h3>Singleton</h3>
										<p>Several classes are Singletons; for example, the Renderer. This allows us to have a reference to certain important objects, whilst enforcing that these objects are created only once.</p>
										<p>These Singletons are implemented via the normal Java recommended method; by creating a single instance value in an enumeration. This method creates eager Singletons.</p>
									</div>
								</div>
							</section>
							<section class="6u 12u(narrower)">
								<div class="box post">
									<a href="images/factory-pattern.png" class="image left"><img src="images/factory-pattern.png" alt="" /></a>
									<div class="inner">
										<h3>Factory</h3>
										<p>We use a Factory to create Packet objects. This allows us to create different types of objects based upon a property. The alternative, using a switch-case statement, can be quite tedious and untidy. It also hides any unsightly implementation details.</p>
									</div>
								</div>
							</section>
						</div>

						<div class="row">
							<section class="6u 12u(narrower)">
								<div class="box post">
									<a href="images/null-object-pattern.png" class="image left"><img src="images/null-object-pattern.png" alt="" /></a>
									<div class="inner">
										<h3>Null Object</h3>
										<p>Null Objects are used in our project in order to represent an object with no value. This provides a cleaner way of representing null objects and allows us to add some implementation to these objects, which may be more useful in certain cases.</p>
									</div>
								</div>
							</section>
							<section class="6u 12u(narrower)">
								<div class="box post">
									<a href="images/observer-pattern.png" class="image left"><img src="images/observer-pattern.png" alt="" /></a>
									<div class="inner">
										<h3>Observer</h3>
										<p>We take advantage of the Observer design pattern in order to notify certain objects of an event. GUI objects, for instance, are told whether the Google Cardboard’s trigger is pulled. This allows different actions to occur depending on the event.</p>
									</div>
								</div>
							</section>
						</div>

						<div class="row">
							<section class="6u 12u(narrower)">
								<div class="box post">
									<a href="images/prototype-pattern.png" class="image left"><img src="images/prototype-pattern.png" alt="" /></a>
									<div class="inner">
										<h3>Prototype</h3>
										<p>The Prototype design pattern allows the creation of a new object based upon another prototypical object. In our project, we use this pattern in conjunction with the Factory in order to create Packet objects. Each packet is created by reflectively calling its constructor, based upon its class. Since we define packets without parameters in the constructor, no other information but the class is required.</p>
									</div>
								</div>
							</section>
							<section class="6u 12u(narrower)">
								<div class="box post">
									<a href="images/bridge-pattern.png" class="image left"><img src="images/bridge-pattern.png" alt="" /></a>
									<div class="inner">
										<h3>Bridge</h3>
										<p>The Bridge design pattern separates abstractions and implementations from each other, and instead provides a ‘bridge’ between the two. In our application, we make use of a Drawable interfaces, allowing anything that implements to have a draw function. The GUI class provides the basic implementation of this function, and subclasses are free to make use or override this as they wish.</p>
									</div>
								</div>
							</section>
						</div>

						<div class="row">
							<section class="6u 12u(narrower)">
								<div class="box post">
									<a href="images/iterator-pattern.png" class="image left"><img src="images/iterator-pattern.png" alt="" /></a>
									<div class="inner">
										<h3>Iterator</h3>
										<p>The Iterator design pattern allows us to iterate over a collection of objects easily. In our project, the GUICollection represents a collection of GUI objects. This is particularly useful, as the collection provides functions that easily allow addition of objects, removal of objects, and, importantly for our project, sorting of objects in a certain way.</p>
									</div>
								</div>
							</section>
							<section class="6u 12u(narrower)">
								<div class="box post">
									<a href="images/command-pattern.png" class="image left"><img src="images/command-pattern.png" alt="" /></a>
									<div class="inner">
										<h3>Command</h3>
										<p>In order to better represent the networking system, we encapsulate bytes as a Packet class. This is a simple way of representing the Command design pattern, as each type of packet is a request for its information to be sent.</p>
									</div>
								</div>
							</section>
						</div>

						<div class="row">
							<section class="6u 12u(narrower)">
								<div class="box post">
									<a href="images/chain-of-responsibility-pattern.png" class="image left"><img src="images/chain-of-responsibility-pattern.png" alt=""/></a>
									<div class="inner">
										<h3>Chain of Responsibility</h3>
										<p>The Chain of Responsibility is a sequence of executions which link the call of a function to its eventual implementation. One basic example of this in our project is the drawing sequence; successive Drawable objects are drawn, and progress further into the ‘branches’ of the ‘tree’. This allows us to simplifying the implementations required for drawing, instead of it being more of a mess if it were all in one class.</p>
									</div>
								</div>
							</section>
							<section class="6u 12u(narrower)">
								<div class="box post">
									<a href="images/template-method-pattern.png" class="image left"><img src="images/template-method-pattern.png" alt="" /></a>
									<div class="inner">
										<h3>Template Method</h3>
										<p>Several base classes, such as the GUI class, have template methods, and their subclasses implement the feature required. This is especially useful for similar objects, allowing other classes to call the function without need of how it is implemented.</p>
									</div>
								</div>
							</section>
						</div>
						<p>Diagrams from <a href="http://www.oodesign.com/">http://www.oodesign.com/</a></p>
					</div>
				</section>

			<!-- CTA -->
				<section id="cta" class="wrapper style3">
					<div class="container">
						<header>
							<h2>Find us on <a href="https://github.com/deldarwand/MSF-SE-Project">GitHub</a></h2>
						</header>
					</div>
				</section>

			<!-- Footer -->
				<div id="footer">
					<!-- Copyright -->
						<div class="copyright">
							<ul class="menu">
								<li>&copy; UCL 2016, Systems Engineering Teams 1-2. All rights reserved</li>
							</ul>
						</div>
				</div>

		</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.dropotron.min.js"></script>
			<script src="assets/js/skel.min.js"></script>
			<script src="assets/js/util.js"></script>
			<!--[if lte IE 8]><script src="assets/js/ie/respond.min.js"></script><![endif]-->
			<script src="assets/js/main.js"></script>
	</body>
</html>